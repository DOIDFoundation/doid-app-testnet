import{T as v,s as I,r as L,c as S,e as M,b as y,d as N,g as E,f as q}from"./index-9RxuMwHU.js";import{x as l,k as w,g as h,j as n,t as x,F as z,q as U,u as F,h as f,o as C,a as V,v as R,e as W}from"./vendor-fBQRa2Qg.js";import{g as K}from"./tokens-A_A_ffRp.js";const G='.dui-input-text{position:relative;margin-left:auto;margin-right:auto;display:flex;width:100%;padding-top:1.25rem;padding-bottom:1.25rem}.dui-input-text input[type]{font-family:var(--fontFamily);position:relative;display:inline-flex;height:2rem;width:100%;border-radius:.375rem;--tw-bg-opacity: 1;background-color:#fff;background-color:rgba(255,255,255,var(--tw-bg-opacity));padding:1.25rem .75rem;font-size:.875rem;line-height:1.25rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}@media (min-width: 640px){.dui-input-text input[type]{padding:1.5rem;font-size:1rem;line-height:1.5rem}}.dui-input-text input[type]{border:1px solid #ccc}.dui-input-text input[type]:hover,.dui-input-text input[type]:focus{border-color:var(--formBorderFocus)!important}.dui-input-text input[type]:focus{box-shadow:0 0 0 .2rem #ff920f33;outline:0 none;outline-offset:0}.dui-input-text[disabled]{opacity:.6}.dui-input-text.dense,.dui-input-text.sm{padding-top:0;padding-bottom:0}.dui-input-text.sm input[type]{height:1.25rem;padding-top:1rem;padding-bottom:1rem;font-size:.875rem;line-height:1.25rem}@media (min-width: 640px){.dui-input-text.sm input[type]{height:1.5rem}}.dui-input-text.sm .dui-input-right,.dui-input-text.sm .dui-input-left{padding-top:1rem;padding-bottom:1rem;line-height:1rem}.dui-input-text .dui-input-msg,.dui-input-text .dui-input-tip,.dui-input-text label{position:absolute;display:flex;height:1rem;flex-wrap:wrap;align-items:center;padding-left:.75rem;padding-right:.75rem;font-size:.875rem;line-height:1.25rem;line-height:1!important;margin-left:1px;top:.15rem}.dui-input-text .dui-input-msg{top:auto;bottom:.15rem}.dui-input-text .dui-input-tip{left:auto;right:0}.dui-input-text .dui-input-right,.dui-input-text .dui-input-left{pointer-events:none;position:absolute;display:flex;height:1.25rem;align-items:center;justify-content:center;border-top-right-radius:.375rem;border-bottom-right-radius:.375rem;padding:1.25rem .25rem 1.25rem .5rem}@media (min-width: 640px){.dui-input-text .dui-input-right,.dui-input-text .dui-input-left{height:1.5rem;padding:1.5rem .5rem 1.5rem 1.5rem}}.dui-input-text .dui-input-right,.dui-input-text .dui-input-left{min-width:1.5rem;z-index:1;right:1px;margin-top:1px;font-size:1em;line-height:1em}.dui-input-text .dui-input-right:empty,.dui-input-text .dui-input-left:empty{--tw-bg-opacity: 1;background-color:#000;background-color:rgba(0,0,0,var(--tw-bg-opacity))}.dui-input-text .dui-input-right>*,.dui-input-text .dui-input-left>*{pointer-events:auto}.dui-input-text .dui-input-left{right:auto;left:1px}.dui-input-text[required] label:after{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;font-weight:600;line-height:1;--tw-text-opacity: 1;color:#ef4444;color:rgba(239,68,68,var(--tw-text-opacity));content:"*";height:1em;margin-left:.25em}.dui-input-text[rightSlotted] input[type]{padding-right:5rem}.dui-input-text.sm[rightSlotted] input[type]{padding-right:2.5rem}.dui-input-text[leftSlotted] input[type]{padding-left:2.75rem}.dui-input-text.sm[leftSlotted] input[type]{padding-left:2rem}';var J=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,p=(t,e,o,s)=>{for(var i=s>1?void 0:s?Q(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&J(e,o,i),i};const j=(t,e,{lower:o=!1,upper:s=!1}={})=>(t&&(o?t=t.toLowerCase():s&&(t=t.toUpperCase())),t);let d=class extends v(G){constructor(){super(...arguments),this.placeholder="",this.class="",this.sm=!1,this.dense=!1,this.disabled=!1,this.readonly=!1,this.autofocus=!1,this.required=!1,this.lower=!1,this.upper=!1,this.err=!1,this.value="",this.debounce=300,this.rightSlotted=!1,this.leftSlotted=!1,this.type="text",this.onKeyup=t=>{t.key==="Enter"&&(this.emit("submit",this.value),setTimeout(()=>this.updateVal()))}}onSlotChange(t){const e=t.target;if(!e)return;e.assignedNodes({flatten:!0}).length}onSlotRight(t){this.rightSlotted=!!t.target}onSlotLeft(t){this.leftSlotted=!!t.target}firstUpdated(){this.autofocus&&setTimeout(()=>{this.$("input").focus()},100)}onFocus(t){t.target.select()}updateVal(){const t=this.$("input");t&&(t.value=this.value)}onInput(t){t.stopImmediatePropagation();let e=t.target.value;this.value=j(e,null,{lower:this.lower,upper:this.upper})||"",this.updateVal(),this.emit("input",e.trim())}render(){return l`<div class="dui-input-text ${w(this.$c([this.class,{sm:this.sm,dense:this.dense}]))}" ?required="${this.required}" ?rightSlotted="${this.rightSlotted}" ?leftSlotted="${this.leftSlotted}" part="dui-input-text"><label><slot name="label" @slotchange="${this.onSlotChange}"></slot></label> <span class="dui-input-left"><slot name="left" @slotchange="${this.onSlotLeft}"></slot></span><input .type="${this.type}" .disabled="${this.disabled}" .readonly="${this.readonly}" placeholder="${this.placeholder}" value="${this.value}" title="${this.title}" @focus="${this.onFocus}" @input="${this.onInput}" @keyup="${this.onKeyup}"><div class="dui-input-right"><slot name="right" @slotchange="${this.onSlotRight}"></slot></div><div class="dui-input-msg"><slot name="msg" @slotchange="${this.onSlotChange}"></slot></div><div class="dui-input-tip"><slot name="tip" @slotchange="${this.onSlotChange}"></slot></div></div>`}};p([n({type:String})],d.prototype,"placeholder",2);p([n({type:String})],d.prototype,"class",2);p([n({type:Boolean})],d.prototype,"sm",2);p([n({type:Boolean})],d.prototype,"dense",2);p([n({type:Boolean})],d.prototype,"disabled",2);p([n({type:Boolean})],d.prototype,"readonly",2);p([n({type:Boolean})],d.prototype,"autofocus",2);p([n({type:Boolean})],d.prototype,"required",2);p([n({type:Boolean})],d.prototype,"lower",2);p([n({type:Boolean})],d.prototype,"upper",2);p([n({type:Boolean})],d.prototype,"err",2);p([n({type:String,converter:j})],d.prototype,"value",2);p([n({type:Number})],d.prototype,"debounce",2);p([h()],d.prototype,"rightSlotted",2);p([h()],d.prototype,"leftSlotted",2);p([h()],d.prototype,"type",2);d=p([x("dui-input-text")],d);const X=":host{visibility:hidden;position:fixed;left:0;top:0;z-index:50;display:flex;height:100%;width:100%;align-items:center;justify-content:center;padding-left:1rem;padding-right:1rem}@media (min-width: 1024px){:host{padding-left:0;padding-right:0}}:host::part(dialog-container){width:400px;width:100%}@media (min-width: 1024px){:host::part(dialog-container){width:24rem}}:host::part(dialog-container){max-width:var(--appMaxW);min-height:300px}:host::part(dialog-body){min-height:9rem}.dialog-header-icons{font-size:1.25rem;line-height:1.75rem}";var Y=Object.defineProperty,tt=Object.getOwnPropertyDescriptor,D=(t,e,o,s)=>{for(var i=s>1?void 0:s?tt(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&Y(e,o,i),i},et=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)},T=(t,e,o)=>(et(t,e,"read from private field"),o?o.call(t):e.get(t)),it=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)},_;let k=class extends v(X){constructor(){super(...arguments),this.persistent=!1,this.model=!1,this.close=async()=>{this.model=!1,this.unlisten(),await I(200),this.emit("close"),this.remove()},it(this,_,t=>{t.key==="Escape"&&(t.preventDefault(),this.close())})}listen(){this.unlisten(),window.addEventListener("keydown",T(this,_))}unlisten(){window.removeEventListener("keydown",T(this,_))}connectedCallback(){super.connectedCallback(),this.persistent||this.listen()}disconnectedCallback(){super.disconnectedCallback(),this.persistent||this.unlisten()}render(){return setTimeout(()=>{this.model=!0}),l`<div part="dialog-container" class="relative !origin-center z-10 bg-white rounded-xl drop-shadow-lg ${w(this.$c([this.model?"-mt-8 opacity-100 visible":"-mt-80 opacity-0 invisible"]))}" ${z({guard:()=>this.model,properties:["opacity","visibility","margin","transform"],keyframeOptions:{duration:233}})}><slot name="top"><i part="dialog-close" class="absolute flex justify-center items-center right-4 top-4 w-6 h-6 text-2xl cursor-pointer" @click="${this.close}"><i class="mdi mdi-close"></i></i><div part="dialog-header" class="w-full rounded-t-xl p-4 pr-8 flex justify-between items-center text-base"><slot name="header"></slot></div></slot><slot name="center"><div part="dialog-body" class="p-4"><slot></slot></div></slot><slot name="bottom"><div part="dialog-footer" class="w-full p-4 rounded-b-xl"><slot name="footer"></slot></div></slot></div><div @click="${()=>!this.persistent&&this.close()}" part="dialog-overlay" class="z-0 absolute left-0 top-0 w-full h-full visible bg-black bg-opacity-75 ${this.model?"opacity-75":"opacity-0"}" ${z({guard:()=>this.model})}></div>`}};_=new WeakMap;D([n({type:Boolean})],k.prototype,"persistent",2);D([h()],k.prototype,"model",2);k=D([x("dui-dialog")],k);const st=":host::part(dialog-container){padding-left:1rem;padding-right:1rem;padding-top:.5rem;font-size:1rem;line-height:1.5rem;min-height:100px}:host::part(dialog-header){min-height:0}:host::part(dialog-body){min-height:0}:host::part(dialog-footer){min-height:0}";var ot=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,A=(t,e,o,s)=>{for(var i=s>1?void 0:s?nt(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&ot(e,o,i),i};let O=class extends v([k.styles,st]){constructor(){super(...arguments),this.button=!1,this.el$=U()}onClose(){this.emit("close")}close(){var t;(t=this.el$.value)==null||t.close()}render(){return l`<dui-dialog ${F(this.el$)} @close="${this.onClose}"><slot slot="header" name="header" class="font-bold"></slot><slot></slot>${f(this.button,()=>l`<div slot="footer" class="w-full flex justify-between gap-4"><div></div><div><dui-button text @click="${this.close}">Close</dui-button></div></div>`)}</dui-dialog>`}};A([n({type:Boolean})],O.prototype,"button",2);O=A([x("dui-prompt")],O);var rt=Object.defineProperty,at=Object.getOwnPropertyDescriptor,Z=(t,e,o,s)=>{for(var i=s>1?void 0:s?at(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&rt(e,o,i),i};let P=class extends v(""){constructor(){super(...arguments),this.model=!1}show(){this.model=!0}onClose(){this.model=!1,this.emit("close")}render(){return l`<slot name="button" @click="${this.show}"><dui-button icon><slot name="icon"><i class="mdi mdi-help-circle-outline cursor-pointer"></i></slot></dui-button></slot>${f(this.model,()=>l`<dui-prompt @close="${this.onClose}"><slot></slot></dui-prompt>`)}`}};Z([h()],P.prototype,"model",2);P=Z([x("dui-tip")],P);const lt=".dui-link{text-decoration-line:none;color:var(--a_color)}.dui-link:hover{text-decoration-line:underline;color:var(--a_color);-webkit-text-decoration:underline;text-decoration:underline}.dui-link:not([disabled]){cursor:pointer}.dui-link[disabled]{pointer-events:none}.dui-link.uri{color:currentColor}.dui-link.uri:hover{color:currentColor;-webkit-text-decoration:underline;text-decoration:underline}.dui-link.link{color:var(--colorSecondary)}.dui-link.link:hover{color:var(--colorSecondary);-webkit-text-decoration:underline;text-decoration:underline}.dui-link[nav]{display:inline-flex;border-top-width:2px;border-bottom-width:2px;border-color:transparent;line-height:1rem;padding:3px 0;color:inherit}.dui-link[nav]:hover{color:var(--a_color);text-decoration-line:none}.dui-link[nav][active],.dui-link[nav][exact-active]{color:var(--a_color);border-bottom-color:currentColor}.dui-link[link]{text-decoration-line:underline}.dui-link[text]{color:currentColor;text-decoration-line:underline}.dui-link[text]:hover{text-decoration-line:underline}";var dt=Object.defineProperty,pt=Object.getOwnPropertyDescriptor,m=(t,e,o,s)=>{for(var i=s>1?void 0:s?pt(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&dt(e,o,i),i};let u=class extends v(lt){constructor(){super(...arguments),this.target="",this.class="",this.alias="",this.exact=!1,this.disabled=!1,this.open=!1,this.link=!1,this.back=!1,this.nav=!1,this.text=!1,this.pathname=L(),this.onClick=t=>{(this.blocked||this.back)&&(t.stopImmediatePropagation(),t.preventDefault(),this.back&&history.back())},this.updatePathName=()=>{this.pathname=L()}}get blocked(){return this.disabled}get path(){return S(this.pathname)}get noHref(){return typeof this.href>"u"}get outsite(){return!this.noHref&&!/^\//.test(this.href+"")}get exacted(){return this.outsite||this.noHref?!1:this.pathname===L(`${location.origin}${this.href}`)||this.pathname===this.alias}get active(){return this.outsite?!1:S(this.href)===this.path||S(this.alias)===this.path}get rel(){return this.outsite?"noopener":""}get _target(){return this.outsite?"_blank":""}connectedCallback(){super.connectedCallback(),this.nav&&M.on("router-change",this.updatePathName)}disconnectedCallback(){super.disconnectedCallback(),this.nav&&M.off("router-change",this.updatePathName)}render(){return l`<a part="dui-link" ?nav="${this.nav}" ?text="${this.text}" ?link="${this.link}" ?active="${!this.exact&&this.active}" ?exact-active="${this.exacted}" target="${C(this._target)}" rel="${C(this.rel)}" href="${C(this.href)}" class="dui-link ${w(this.$c([{"router-active":this.active},this.class]))}" @click="${this.onClick}" ?disabled="${this.disabled}"><slot></slot>${f(this.open,()=>l`<i class="ml-1 mdi mdi-open-in-new"></i>`)}</a>`}};m([n({type:String})],u.prototype,"target",2);m([n({type:String})],u.prototype,"class",2);m([n()],u.prototype,"href",2);m([n({type:String})],u.prototype,"alias",2);m([n({type:Boolean})],u.prototype,"exact",2);m([n({type:Boolean})],u.prototype,"disabled",2);m([n({type:Boolean})],u.prototype,"open",2);m([n({type:Boolean})],u.prototype,"link",2);m([n({type:Boolean})],u.prototype,"back",2);m([n()],u.prototype,"click",2);m([n({type:Boolean})],u.prototype,"nav",2);m([n({type:Boolean})],u.prototype,"text",2);m([h()],u.prototype,"pathname",2);u=m([x("dui-link")],u);const ct="";var ht=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,H=(t,e,o,s)=>{for(var i=s>1?void 0:s?ut(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&ht(e,o,i),i};let B=class extends v(ct){constructor(){super(...arguments),this.bindBridge=new V(this,y)}get bridge(){return y.bridge}get txScanUri(){const{hash:t}=this.tx;return t?`${this.bridge.network.current.scan}/tx/${t}`:""}render(){return l`<dui-link class="uri mt-4" href="${this.txScanUri}" target="_blank" rel="noopener">View Transaction: ${N(this.tx.hash)}</dui-link>`}};H([n({type:Object})],B.prototype,"tx",2);B=H([x("tx-view")],B);const gt=".tx-state{flex-grow:1;align-items:center}.tx-state-icon.success{color:green}.tx-state-icon.failed{color:red}.tx-state-icon.warn{color:orange}.tx-state-msg{white-space:normal;word-wrap:break-word}";var mt=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,$=(t,e,o,s)=>{for(var i=s>1?void 0:s?ft(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&mt(e,o,i),i};let b=class extends v(gt){constructor(){super(...arguments),this.bindBridge=new V(this,y),this.txType=!1,this.inline=!1,this.onlyAwaitHash=!1,this.opts={}}get bridge(){return y.bridge}get icons(){const[t='<i class="mdi mdi-check-all"></i>',e='<i class="mdi mdi-check"></i>',o='<i class="mdi mdi-close"></i>',s='<i class="mdi mdi-loading"></i>']=this.opts.icons??[];return{success:t,failed:o,wait:s,almostSuccess:e}}get hashOk(){var t;return this.onlyAwaitHash&&((t=this.tx)==null?void 0:t.hash)}get state(){var i,r,a;let[t,e,o]=["","",""];const{state:s}=this.opts;switch((i=this.tx)==null?void 0:i.status){case-1:[t,e,o]=[this.icons.wait,(s==null?void 0:s.wait)||"Waiting for confirmation...","wait"];break;case 0:[t,e,o]=[this.icons.failed,((r=this.tx.err)==null?void 0:r.message)??"Something went wrong","failed"];break;case 1:[t,e,o]=[this.icons.success,(s==null?void 0:s.success)||"Success","success"];break;case 2:[t,e]=[this.icons.wait,"Confirm the transaction..."];break;case 4:[t,e,o]=[this.icons.almostSuccess,((a=this.tx.err)==null?void 0:a.message)||"Almost Success","warn"];break;default:[t,e,o]=[this.tx?this.icons.failed:this.icons.wait,this.tx?`Bad transaction status ${this.tx.status}}`:"Making transaction...","wait"];break}return this.hashOk&&([t,e,o]=[this.icons.success,(s==null?void 0:s.success)||"Success","success"]),{icon:t,txt:e,css:o}}get txScanUri(){var t;return(t=this.tx)!=null&&t.hash?`${this.bridge.network.current.scan}/tx/${this.tx.hash}`:""}render(){var t,e;return l`<div
      class="tx-state ${w(this.$c([this.inline?"inline-flex flex-wrap":"flex flex-col m-4"]))}"
    >
      <div class="tx-state-icon mx-auto ${w(this.$c([this.inline?"mr-2":"text-3xl my-3",this.state.css]))}">
        ${f(((t=this.tx)==null?void 0:t.pending)&&!this.hashOk,()=>l`<slot name="pending">
              <i class="mdi mdi-loading"></i>
            </slot>`,()=>l`<span>${R(this.state.icon)}</span>`)}
      </div>
      <div class="tx-state-msg grow ${w(this.$c([this.inline?"":"my-4"]))}">
        <slot>${this.state.txt}</slot>
      </div>
      <div class="flex gap-4">
        ${f((e=this.tx)==null?void 0:e.hash,()=>{var o,s;return l`${f(((o=this.tx)==null?void 0:o.success)||((s=this.tx)==null?void 0:s.almostSuccess),()=>l`<slot name="view"><tx-view .tx=${this.tx}></tx-view></slot>`,()=>l`<tx-view .tx=${this.tx}></tx-view>`)}`})}
      </div>
    </div>`}};$([n({type:Object})],b.prototype,"tx",2);$([n({type:Boolean})],b.prototype,"txType",2);$([n({type:Boolean,attribute:!0})],b.prototype,"inline",2);$([n({type:Boolean})],b.prototype,"onlyAwaitHash",2);$([n({type:Object})],b.prototype,"opts",2);b=$([x("tx-state")],b);const vt=`.token-icon{display:inline-flex;align-items:center;justify-content:center;width:1.3em;height:1.3em;transform:scale(1.2);background:url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23333'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M10.29%203.86L1.82%2018a2%202%200%200%200%201.71%203h16.94a2%202%200%200%200%201.71-3L13.71%203.86a2%202%200%200%200-3.42%200z'/%3e%3cpath%20d='M12%209v4m0%204h.01'/%3e%3c/svg%3e") no-repeat center}.token-icon.ETH{background-image:url("data:image/svg+xml,%3csvg%20viewBox='0%200%20256%20417'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23343434'%20d='M127.961%200l-2.795%209.5v275.668l2.795%202.79%20127.962-75.638z'/%3e%3cpath%20fill='%238C8C8C'%20d='M127.962%200L0%20212.32l127.962%2075.639V154.158z'/%3e%3cpath%20fill='%233C3C3B'%20d='M127.961%20312.187l-1.575%201.92v98.199l1.575%204.6L256%20236.587z'/%3e%3cpath%20fill='%238C8C8C'%20d='M127.962%20416.905v-104.72L0%20236.585z'/%3e%3cpath%20fill='%23141414'%20d='M127.961%20287.958l127.96-75.637-127.96-58.162z'/%3e%3cpath%20fill='%23393939'%20d='M0%20212.32l127.96%2075.638v-133.8z'/%3e%3c/svg%3e")}.token-icon.DOID{background-image:url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040.02%2051.9'%3e%3cpath%20d='M28.81%2012.52l9.26%204.91c1.2.74%201.95%201.95%201.95%203.33v21.03c0%201.3-.65%202.41-1.67%203.15l-9.82%206.3c-1.2.83-2.69.83-3.89.19l-7.87-4.26%2013.53-8.15.09-15.75L20.2%2017.9l8.62-5.37zm-6.02%2026.4l2.22%201.11-8.62%205.28-2.22-1.11%208.62-5.28zm-1.48-3.8l2.22%201.11-8.62%205.28-2.32-1.11%208.71-5.28zM15.75.57l7.5%203.98L9.73%2012.8l-.09%2015.66%2010.19%205.47-8.62%205.37-8.89-4.82C.84%2033.74%200%2032.16%200%2030.59v-20.2c0-1.48.74-2.96%202.04-3.8L11.12.76a4.39%204.39%200%200%201%204.63-.19zm10.56%208.89l2.22%201.11-8.62%205.28-2.22-1.11%208.62-5.28zm-1.57-3.8l2.32%201.2-8.62%205.28-2.32-1.2%208.62-5.28z'%20fill='%23373737'%20fill-rule='evenodd'/%3e%3c/svg%3e")}.token-icon.BNB{background-image:url("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20data-theme='dark'%20viewBox='0%200%2024%2024'%20focusable='false'%20class='chakra-icon%20css-rj29lq'%3e%3cpath%20d='M4.00392%203.6761L10.3727%200L16.7415%203.6761L14.4%205.03415L10.3727%202.7161L6.34539%205.03415L4.00392%203.6761ZM16.7415%208.31219L14.4%206.95415L10.3727%209.2722L6.34539%206.95415L4.00392%208.31219V11.0283L8.03123%2013.3463V17.9824L10.3727%2019.3405L12.7142%2017.9824V13.3463L16.7415%2011.0283V8.31219ZM16.7415%2015.6644V12.9483L14.4%2014.3063V17.0224L16.7415%2015.6644ZM18.4039%2016.6244L14.3766%2018.9424V21.6585L20.7454%2017.9824V10.6302L18.4039%2011.9883V16.6244ZM16.0625%205.99415L18.4039%207.35219V10.0683L20.7454%208.71024V5.99415L18.4039%204.6361L16.0625%205.99415ZM8.03123%2019.9259V22.642L10.3727%2024L12.7142%2022.642V19.9259L10.3727%2021.2839L8.03123%2019.9259ZM4.00392%2015.6644L6.34539%2017.0224V14.3063L4.00392%2012.9483V15.6644ZM8.03123%205.99415L10.3727%207.35219L12.7142%205.99415L10.3727%204.6361L8.03123%205.99415ZM2.34146%207.35219L4.68293%205.99415L2.34146%204.6361L0%205.99415V8.71024L2.34146%2010.0683V7.35219ZM2.34146%2011.9883L0%2010.6302V17.9824L6.36877%2021.6585V18.9424L2.34146%2016.6244V11.9883Z'%20fill='%23000'%3e%3c/path%3e%3c/svg%3e")}.token-icon.USDT{background-image:url("data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20339.43%20295.27'%3e%3ctitle%3etether-usdt-logo%3c/title%3e%3cpath%20d='M62.15,1.45l-61.89,130a2.52,2.52,0,0,0,.54,2.94L167.95,294.56a2.55,2.55,0,0,0,3.53,0L338.63,134.4a2.52,2.52,0,0,0,.54-2.94l-61.89-130A2.5,2.5,0,0,0,275,0H64.45a2.5,2.5,0,0,0-2.3,1.45h0Z'%20style='fill:%2350af95;fill-rule:evenodd'/%3e%3cpath%20d='M191.19,144.8v0c-1.2.09-7.4,0.46-21.23,0.46-11,0-18.81-.33-21.55-0.46v0c-42.51-1.87-74.24-9.27-74.24-18.13s31.73-16.25,74.24-18.15v28.91c2.78,0.2,10.74.67,21.74,0.67,13.2,0,19.81-.55,21-0.66v-28.9c42.42,1.89,74.08,9.29,74.08,18.13s-31.65,16.24-74.08,18.12h0Zm0-39.25V79.68h59.2V40.23H89.21V79.68H148.4v25.86c-48.11,2.21-84.29,11.74-84.29,23.16s36.18,20.94,84.29,23.16v82.9h42.78V151.83c48-2.21,84.12-11.73,84.12-23.14s-36.09-20.93-84.12-23.15h0Zm0,0h0Z'%20style='fill:%23fff;fill-rule:evenodd'/%3e%3c/svg%3e")}.token-icon.USDC{background-image:url("data:image/svg+xml,%3csvg%20data-name='86977684-12db-4850-8f30-233a7c267d11'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202000%202000'%3e%3cpath%20d='M1000%202000c554.17%200%201000-445.83%201000-1000S1554.17%200%201000%200%200%20445.83%200%201000s445.83%201000%201000%201000z'%20fill='%232775ca'/%3e%3cpath%20d='M1275%201158.33c0-145.83-87.5-195.83-262.5-216.66-125-16.67-150-50-150-108.34s41.67-95.83%20125-95.83c75%200%20116.67%2025%20137.5%2087.5%204.17%2012.5%2016.67%2020.83%2029.17%2020.83h66.66c16.67%200%2029.17-12.5%2029.17-29.16v-4.17c-16.67-91.67-91.67-162.5-187.5-170.83v-100c0-16.67-12.5-29.17-33.33-33.34h-62.5c-16.67%200-29.17%2012.5-33.34%2033.34v95.83c-125%2016.67-204.16%20100-204.16%20204.17%200%20137.5%2083.33%20191.66%20258.33%20212.5%20116.67%2020.83%20154.17%2045.83%20154.17%20112.5s-58.34%20112.5-137.5%20112.5c-108.34%200-145.84-45.84-158.34-108.34-4.16-16.66-16.66-25-29.16-25h-70.84c-16.66%200-29.16%2012.5-29.16%2029.17v4.17c16.66%20104.16%2083.33%20179.16%20220.83%20200v100c0%2016.66%2012.5%2029.16%2033.33%2033.33h62.5c16.67%200%2029.17-12.5%2033.34-33.33v-100c125-20.84%20208.33-108.34%20208.33-220.84z'%20fill='%23fff'/%3e%3cpath%20d='M787.5%201595.83c-325-116.66-491.67-479.16-370.83-800%2062.5-175%20200-308.33%20370.83-370.83%2016.67-8.33%2025-20.83%2025-41.67V325c0-16.67-8.33-29.17-25-33.33-4.17%200-12.5%200-16.67%204.16-395.83%20125-612.5%20545.84-487.5%20941.67%2075%20233.33%20254.17%20412.5%20487.5%20487.5%2016.67%208.33%2033.34%200%2037.5-16.67%204.17-4.16%204.17-8.33%204.17-16.66v-58.34c0-12.5-12.5-29.16-25-37.5zM1229.17%20295.83c-16.67-8.33-33.34%200-37.5%2016.67-4.17%204.17-4.17%208.33-4.17%2016.67v58.33c0%2016.67%2012.5%2033.33%2025%2041.67%20325%20116.66%20491.67%20479.16%20370.83%20800-62.5%20175-200%20308.33-370.83%20370.83-16.67%208.33-25%2020.83-25%2041.67V1700c0%2016.67%208.33%2029.17%2025%2033.33%204.17%200%2012.5%200%2016.67-4.16%20395.83-125%20612.5-545.84%20487.5-941.67-75-237.5-258.34-416.67-487.5-491.67z'%20fill='%23fff'/%3e%3c/svg%3e")}`;var xt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,g=(t,e,o,s)=>{for(var i=s>1?void 0:s?yt(e,o):e,r=t.length-1,a;r>=0;r--)(a=t[r])&&(i=(s?a(e,o,i):a(i))||i);return s&&i&&xt(e,o,i),i};let c=class extends v(vt){constructor(){super(...arguments),this.bindBridge=new V(this,y),this.token="",this.placeholder="Recipient address",this.entire=!1,this.toAddress="",this.amount=0,this.err="",this.pending=!1,this.nativeBalance="0",this.tokenList=[],this.selectToken={},this.dialog=!1,this.txDialog=!1,this.tx=null,this.onInput=async t=>{this.toAddress=t.detail},this.onInputVal=async t=>{this.amount=t.detail},this.setMaxAmount=()=>{this.amount=this.selectToken.balance}}get account(){return this.getTokens(),y.bridge.account}get network(){return y.bridge.network}get current(){return this.network.current}get native(){var t;return(t=this.current)==null?void 0:t.native}get tokenName(){return!this.token||this.token==this.native.symbol?this.native.symbol:this.token}gotoHome(){E("/")}async getTokens(){this.tokenList=await K(),this.selectToken=this.tokenList.filter(t=>t.symbol===this.tokenName)[0]}async send(){const t=await q();if(!this.toAddress.trim()){this.dialog=!0,this.err="Input Recipient address";return}if(this.amount<=0){this.dialog=!0,this.err="Input Amount";return}if(+this.amount>+this.selectToken.balance){this.dialog=!0,this.err="Not enough balance to send! ";return}if(this.account){const e=W(this.amount.toString()),o={from:this.account,to:this.toAddress,value:e};try{this.pending=!0,this.tx=await t.sendTransaction(o),this.tx.status=2,this.txDialog=!0,await this.tx.wait(),this.tx.status=1,this.amount=0}catch(s){this.dialog=!0,this.err=s.toString()}finally{this.txDialog=!1,this.pending=!1,this.getTokens()}}}connectedCallback(){super.connectedCallback(),this.getTokens()}render(){return l`
      <div class="py-2 min-h-[600px]">
        <div class="text-center font-bold">
          <i class="mdi mdi-arrow-left text-lg cursor-pointer" @click="${()=>this.gotoHome()}"></i>
          <span class="text-lg  ml-2">Send</span>
        </div>
        <div class="mt-4">
          <div>
            <dui-input-text
              @input=${this.onInput}
              value=${this.toAddress}
              placeholder=${this.placeholder}
              ?disabled=${this.pending}
            >
            <span slot="label"><div class="text-gray-300">Send to</div></slot></span>
              <!-- <span slot="msg">
                ${f(this.err,()=>l`<span class="text-red-500">${this.err}</span>`,()=>l`<slot name="msg"></slot>`)}
              </span> -->
          </dui-input-text>
          </div>
          <div class="flex justify-between z-10 relative">
            <div class="pl-2 text-gray-300">Amount</div>
            <div @click="${()=>this.setMaxAmount()}" class="cursor-pointer text-blue">Max:${this.selectToken.balance} ${this.selectToken.symbol}</div>
          </div>
          <div class="flex -mt-4">
            <div class="basis-1/3 py-5 flex pr-4">
              <div class="rounded-md border border-gray-500 flex items-center px-2 w-full">
              <div class="rounded-full border  p-2 w-8 h-8 flex justify-center items-center">
                <i class="token-icon ${this.selectToken.symbol}"></i>
              </div>
                <div class="mx-2">${this.selectToken.symbol}</div>
                <div><i class="mdi mdi-menu-down"></i></div>
              </div>
            </div>
            <div class="basis-2/3">
              <dui-input-text
                  @input=${this.onInputVal}
                  value=${this.amount}
                  placeholder="amount"
                  ?disabled=${this.pending}
                >
                </dui-input-text>
            </div>
          </div>

          <div class="mt-4">
            <dui-button class="w-full" @click="${()=>this.send()}" ?disabled=${this.pending}>${f(this.pending,()=>l`<i class="mdi mdi-loading"></i>`,()=>l`Send`)}</dui-button>
          </div>
          <div>
            ${f(this.dialog,()=>l`<dui-prompt @close="${()=>this.dialog=!1}">
                  <div class="text-red-900 text-center">${this.err}</div>
                </dui-prompt>`)}
          </div>
        </div>
        ${f(this.txDialog,()=>l`<dui-prompt @close="${()=>this.dialog=!1}">
        <div class="text-center"><tx-state .tx=${this.tx}></tx-state></div>

            </dui-prompt>`)}
      </div>

    `}};g([n({type:String})],c.prototype,"token",2);g([n()],c.prototype,"placeholder",2);g([n()],c.prototype,"default",2);g([n({type:Boolean})],c.prototype,"entire",2);g([h()],c.prototype,"toAddress",2);g([h()],c.prototype,"amount",2);g([h()],c.prototype,"err",2);g([h()],c.prototype,"pending",2);g([h()],c.prototype,"nativeBalance",2);g([h()],c.prototype,"tokenList",2);g([h()],c.prototype,"selectToken",2);g([h()],c.prototype,"dialog",2);g([h()],c.prototype,"txDialog",2);g([h()],c.prototype,"tx",2);c=g([x("view-send")],c);export{c as Send};
